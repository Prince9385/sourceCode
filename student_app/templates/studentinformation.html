
<!DOCTYPE html>
{% load static %}
<html>
<head>
<meta charset="UTF-8">
<meta name="viewsport" content="width=device-width,initial-scale=1.0">
<title>Student Forms</title> 
<link rel="stylesheet" href="{% static 'css/bootstrap.css'%}">
</head> 
<body>    
  <!-- <div class="row"> -->
    <!-- <div class="container mt-5"> -->
    <h4 class="text-center alert alert-danger"> Student Information Table</h4>
    <form action="{% url 'studentinformation' %}" method="POST" >
      {% csrf_token %}
    <div class="input-group">
      <input type="search" class="form-control rounded" name="q" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
      <input type="submit" class="btn btn-success" value="Submit">
      </div>
    </form>
    <div >
    {% if stutables %}
   
        <table class="table table-striped" id="mytable">
            <thead>
              <tr>
                <th scope="col">Rollno</th>
                <th scope="col">Name</th>
                <th scope="col">Class</th>
                <th scope="col">School</th>
                <th scope="col">Mobile</th>
                <th scope="col">Address</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody>
                {% for st in stutables %}
              <tr>
                <th scope="row">{{st.Rollno}}</th>
                <td><a href="{% url 'stuinfo' st.Rollno%}" class="link-secondary">{{st.Name}}</a></td>
                <td>{{st.Class}}</td>
                <td>{{st.School}}</td>
                <td>{{st.Mobile}}</td>
                <td>{{st.Address}}</td>
                <td>
                <a href="{% url 'updatedata'  st.Rollno %}" class="btn btn-warning btn-sm">Edit</a>

                <form action="{% url 'deletedata' st.Rollno %}" method="post" class="d-inline">
                    {% csrf_token %}
                   <input type="submit" class="btn btn-danger" value="delete">                
                </form>
                </td>
              </tr>
              {% endfor %}
            </tbody>
         


          <tbody>
         
          {% elif stutable %}
   
          <table class="table table-striped" id="mytable">
              <thead>
                <tr>
                  <th scope="col">Rollno</th>
                  <th scope="col">Name</th>
                  <th scope="col">Class</th>
                  <th scope="col">School</th>
                  <th scope="col">Mobile</th>
                  <th scope="col">Address</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>
              <tbody>
                {% if stutable|length == 0 %}
                <thead>
                <tr>
                  <th scope="row">{{stutable.Rollno}}</th>
                  <td><a href="{% url 'stuinfo' stutable.Rollno%}" class="link-secondary">{{stutable.Name}}</a></td>
                  <td>{{stutable.Class}}</td>
                  <td>{{stutable.School}}</td>
                  <td>{{stutable.Mobile}}</td>
                  <td>{{stutable.Address}}</td>
                  <td>
                  <a href="{% url 'updatedata'  stutable.Rollno %}" class="btn btn-warning btn-sm">Edit</a>
  
                  <form action="{% url 'deletedata' stutable.Rollno %}" method="post" class="d-inline">
                      {% csrf_token %}
                     <input type="submit" class="btn btn-danger" value="delete">                
                  </form>
                  </td>
                </tr>
              </tbody>
         
                

            <tbody>
         
                {% else %}
                  {% for st in stutable %}
                <tr>
                  <th scope="row">{{st.Rollno}}</th>
                  <td><a href="{% url 'stuinfo' st.Rollno%}" class="link-secondary">{{st.Name}}</a></td>
                  <td>{{st.Class}}</td>
                  <td>{{st.School}}</td>
                  <td>{{st.Mobile}}</td>
                  <td>{{st.Address}}</td>
                  <td>
                  <a href="{% url 'updatedata'  st.Rollno %}" class="btn btn-warning btn-sm">Edit</a>
  
                  <form action="{% url 'deletedata' st.Rollno %}" method="post" class="d-inline">
                      {% csrf_token %}
                     <input type="submit" class="btn btn-danger" value="delete">                
                  </form>
                  </td>
                </tr>
                {% endfor %}
              </tbody>
              {% endif %}
            </table>
          {% else %}
          <h4 class="text-center alert alert-warning">No Records </h4>
          {% endif %}

</div>
<!-- <script>
  const searchfun=()=>{
    let filter=document.getElementById("myinput").value.toUpperCase();

    let mytable=document.getElementById('mytable');
    let tr=mytable.getElementsByTagName('tr');
    for(var i=0; i<tr.lemgth; i++){
      let td=tr[i].getElementByTagName('td')[1];
      if(td){
        let textvalue=td.textContent || td.innerHTML;
        if(textvalue.toUpperCase().indexof(filter) > -1)
        {
          tr[i].style.display="";
        }
        else
        {
          tr[i].style.display="none";
        }
      }
    }

  }
</script> -->
<!-- </div>      -->


<script src="{% static 'js/bootstrap.js' %}"></script>
<script src="{% static 'js/popper.js' %}"></script>  
</body>



</html>